<template>
  <div id="AfterHoursMessage" class="mode">
    <div class="form-group">
      <h2>å–¶æ¥­æ™‚é–“å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ</h2>
      <h3>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>
      <div class="afterHour-message-field">
        <div class="input-container" id="afterHourMessageContainer">
          <!-- å…¥åŠ›ã‚¨ãƒªã‚¢ -->
          <textarea
            v-model="afterHourMessageText"
            class="input-text-field"
            maxlength="500"
            placeholder="ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›"
            @keyup="updateCharCount"
          ></textarea>
          <div class="footer">
            <span id="char-counter" class="char-counter"
              >{{ charCount }}/500</span
            >
          </div>
          <!-- ãƒœã‚¿ãƒ³ã‚¨ãƒªã‚¢ -->
          <div class="button-group">
            <button @click="saveAfterHoursMessage">ğŸ’¾ ä¿å­˜</button>
            <button @click="resetForm" style="display: none">ãƒªã‚»ãƒƒãƒˆ</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      afterHourMessageText: 'test', // åˆæœŸãƒ†ã‚­ã‚¹ãƒˆ
      charCount: 0, // æ–‡å­—æ•°ã‚«ã‚¦ãƒ³ãƒˆ
    };
  },
  mounted() {
    const script = document.createElement('script');
    script.src = '/script.js';

    script.onload = () => {
      receiveMenu('AfterHoursMessage');
      const chatSection = document.getElementById('chat-section');
      const mainContent = document.getElementById('main-content');
      // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’éè¡¨ç¤º
      chatSection.style.display = 'block';
      mainContent.style.width = '100%';
    };

    document.body.appendChild(script);
    // ãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚ŒãŸéš›ã«textResize()ã‚’å®Ÿè¡Œ
  },
};
</script>

<style scoped></style>
