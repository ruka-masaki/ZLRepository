<template>
  <div class="form-group">
    <h2>å¿œç­”ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ</h2>
    <h3 class="required">ã‚¿ã‚¤ãƒˆãƒ«</h3>
    <input v-model="responseMessageTitle" type="text" required />

    <h3>ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</h3>
    <input v-model="responseMessageKeyword" type="text" />

    <h3 class="required">ãƒãƒƒãƒæ–¹æ³•</h3>
    <select v-model="matchType" required>
      <option value="">-é¸æŠã—ã¦ãã ã•ã„-</option>
      <option value="exactMatch">å®Œå…¨ä¸€è‡´</option>
      <option value="partialMatch">éƒ¨åˆ†ä¸€è‡´</option>
    </select>

    <h3>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—</h3>
    <select v-model="responseMessageType" @change="changeResponseMessageType">
      <option value="">-é¸æŠã—ã¦ãã ã•ã„-</option>
      <option value="responceText">ãƒ†ã‚­ã‚¹ãƒˆ</option>
      <option value="responceImg">ç”»åƒ</option>
    </select>

    <div v-if="responseMessageType === 'responceText'" id="responceTextArea">
      <textarea
        v-model="responseTextMessage"
        class="input-text-field"
        maxlength="500"
        placeholder="ãƒ†ã‚­ã‚¹ãƒˆã‚’å…¥åŠ›"
        @keyup="updateCharCount"
      ></textarea>
      <div class="footer">
        <span class="char-counter">{{ charCount }}/500</span>
      </div>
    </div>

    <div v-if="responseMessageType === 'responceImg'" id="responceImgArea">
      <div class="custom-file-upload">
        <input
          type="file"
          id="responceImgUpload"
          accept="image/*"
          @change="previewResponseImage"
          class="file-input"
        />
        <label for="responceImgUpload" id="uploadLabel">
          <span class="upload-text">ğŸ–¿ å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</span>
          <img v-if="imagePreview" :src="imagePreview" class="image-preview" />
        </label>
      </div>
    </div>
  </div>

  <div class="button-group">
    <button @click="saveResponseMessage">ğŸ’¾ ä¿å­˜</button>
    <button @click="resetForm" style="display: none">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      responseMessageTitle: '',
      responseMessageKeyword: '',
      matchType: '',
      responseMessageType: '',
      responseTextMessage: '',
      charCount: 0,
      imagePreview: null,
    };
  },
};
</script>

<style scoped></style>
